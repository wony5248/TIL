# 데이터 모델링
#### 데이터 모델링(스키마 설계)란
* 데이터 모델링이란 복잡한 현실 세계에 존재하는 데이터를 단순화 시켜 표현해 컴퓨터 세계의 데이터베이스로 옮기는 변환 과정입니다.
  1 db설계 툴을 이용해서 1:n 같은 관계를 고민하고,
  2 테이블설계를 하고 결과를 컨플루언스같은 문서에 올리고,
  3 orm의 entity나 sql의 결과를 매핑해올 vo를 구축할 생각을 먼저하며 DB설계를 시작합니다.
#### 데이터 모델링 과정
* 개념적 데이터 모델링
  * 현실세계의 각각의 개념은 어떻게 상호작용하는지를 파악하는 단계이며 entity, attribute, relation을 정의하는 단계입니다.
  * entity
    * entity는 현실세계의 정보들을 그루핑 한 것 입니다. 추후 rdb 테이블의 이름이 됩니다.
  * attribute
    * attribute는 현실세계의 정보이며 attribute가 모여서 entity가 됩니다. ORM의 entity나 VO의 멤버필드라고 생각하시면 됩니다.
  * relation
    * relation은 이제 1:n n:m 등을 결정짓는 요소입니다. JPA라면 추후 @OneToMany 등의 어노테이션을 쓸수있도록 관계를 정의 합니다.
* 논리적 데이터 모델링
  * DB설계의 꽃 논리 데이터 모델링 단계입니다.
  * 논리적 데이터 모델링 단계에 정규화 단계가 포함되어 있다.
  * 정규화란 테이블을 쪼개 중복된 데이터를 없애는 것입니다.
  * 정규화를 잘 해놓는다면 무결성을 유지하고 DB용량을 줄일 수 있습니다.
  * 대신 join의 비용은 늡니다 join의 비용을 줄이기위해 강제로 정규화된 테이블을 합치는것을 반정규화라고 합니다.
* 물리적 데이터 모델링
  * 물리적 데이터 모델링은 이제 ddl을 작성하여 물리적인 테이블을 만드는 과정입니다.
  * DBA들은 테이블을 만들기 전에 복잡한 테이블 구조만보고 어디에서 병목이 생기는지 분석하고 슬로우 쿼리를 찾아내서 반정규화를 해준다고합니다.
* DB 스키마 오염 이유
  * DB 스키마는 개념적 모델링을 제대로 하지 못하여(확장을 고려하지 않아서) 엔티티를 불분명하게 선정하고, 논리 모델링 단계에서 정규화도 제대로 하지 않은 테이블에 필드 추가를 할때 쉽게 오염됩니다.
#### DTO, DAO, VO 
* DAO(Data Access Object)
  * DAO는 실제로 DB의 data에 접근하기 위한 객체입니다.
  * 실제로 DB에 접근하여 data를 삽입, 삭제, 조회, 수정 등 CRUD 기능을 수행합니다.
  * Service와 DB를 연결하는 고리 역할을 합니다.
  * Repository package가 바로 DAO입니다.
* DTO(Data Transfer Object)
  * DTO는 계층 간 데이터 교환을 하기 위해 사용하는 객체로, DTO는 로직을 가지지 않는 순수한 데이터 객체(Java Beans)입니다.
  * DTO는 즉, getter/setter 메서드만 가진 클래스를 의미합니다.
  * DB에서 데이터를 얻어서 Service나 Controller 등으로 보낼 때 사용합니다.
  * 즉 엔티티를 DTO 형태로 변환한 후 사용합니다.
* VO(Value Object)
  * VO는 DTO와 달리 Read-Only속성을 지닌 값 오브젝트입니다.
  * DTO는 setter를 가지고 있어서 값이 변할 수 있지만 VO의 경우에는 getter만 가지고 있어서 수정이 불가능
  * DTO와 VO의 차이점은 DTO는 인터턴스 개념이고, VO는 리터럴 값 개념


  
